{"ast":null,"code":"\"use strict\";\n\n/*!\n * Copyright 2020 Google LLC\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSpan = void 0;\nconst api_1 = require(\"@opentelemetry/api\");\n// eslint-disable-next-line @typescript-eslint/no-var-requires\nconst PKG = require('../../package.json');\n/**\n * @internal\n * Instantiates a Opentelemetry tracer for the library\n */\nconst libraryTracer = api_1.trace.getTracer('@google-cloud/pubsub', PKG.version);\n/**\n * Creates a new span with the given properties\n *\n * @param {string} spanName the name for the span\n * @param {Attributes?} attributes an object containing the attributes to be set for the span\n * @param {SpanContext?} parent the context of the parent span to link to the span\n */\nfunction createSpan(spanName, kind, attributes, parent) {\n  return libraryTracer.startSpan(spanName, {\n    // set the kind of the span\n    kind,\n    // set the attributes of the span\n    attributes: attributes\n  }, parent ? api_1.trace.setSpanContext(api_1.context.active(), parent) : undefined);\n}\nexports.createSpan = createSpan;","map":{"version":3,"names":["api_1","require","PKG","libraryTracer","trace","getTracer","version","createSpan","spanName","kind","attributes","parent","startSpan","setSpanContext","context","active","undefined","exports"],"sources":["../../src/opentelemetry-tracing.ts"],"sourcesContent":[null],"mappings":";;AAAA;;;;;;;;;;;;;;;;;;AAeA,MAAAA,KAAA,GAAAC,OAAA;AAUA;AACA,MAAMC,GAAG,GAAGD,OAAO,CAAC,oBAAoB,CAAC;AAEzC;;;;AAIA,MAAME,aAAa,GAAWH,KAAA,CAAAI,KAAK,CAACC,SAAS,CAC3C,sBAAsB,EACtBH,GAAG,CAACI,OAAO,CACZ;AAED;;;;;;;AAOA,SAAgBC,UAAUA,CACxBC,QAAgB,EAChBC,IAAc,EACdC,UAA2B,EAC3BC,MAAoB;EAEpB,OAAOR,aAAa,CAACS,SAAS,CAC5BJ,QAAQ,EACR;IACE;IACAC,IAAI;IACJ;IACAC,UAAU,EAAEA;GACb,EACDC,MAAM,GAAGX,KAAA,CAAAI,KAAK,CAACS,cAAc,CAACb,KAAA,CAAAc,OAAO,CAACC,MAAM,EAAE,EAAEJ,MAAM,CAAC,GAAGK,SAAS,CACpE;AACH;AAhBAC,OAAA,CAAAV,UAAA,GAAAA,UAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}